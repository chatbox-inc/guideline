## はじめに - what

GitHub における プロジェクト運用に関するフォーマットをまとめた文章です。

### Issue の分類

Issue を `Epic` , `Feature` , `Story` , `Task` の４つに分けて管理します。

これら ４つの Issue タイプは、親子関係を持ち、
Epic ∈ Feature ∈ Story ∈ Task のような関係性を構築します。
それぞれのタスクは、ラベル等を用いて明確に区分されるべきものです。

**Epic**

ローンチリリースに紐づく一番大きな Issue です。 Epic は全て Pinned Issue として管理するのが望ましいでしょう。

Epic は 原則全て、一つの GitHub Project と紐付き、ローンチリリースのタイミングで Close します。一度 Close した Epic は原則 Reopen することが出来ません。

Epic は一つの リリース用 ブランチを生成します。

小規模な Epic では、簡易的な手法として Epic の内部に Feature を直接紐付けることが出来ます。

**Feature**

Feature は Epic の中で実装すべき機能・要件をまとめたものです。
Feature には 仕様に関する要件が全てまとまります。 
Feature は要件定義が完了したタイミングで Close されます。

**Story** 

Story は、Feature を実装する上で必要な小さなリリースの単位です。 
数日程度の スプリント内に組み込める粒度のタスクを指し、複数のスプリント内でまたがって作業されない規模で構築しましょう。

ここでいう「リリース」とは、「非技術者がその価値を感じられる状態に展開可能」ということを意味します。
本番リリース等の公開作業を意味するリリースは、「ローンチ」と呼んで区別します。

Story は全て スプリントと紐付きます。 
Story の Close は、一つのリリース可能な価値を提供しているため、厳重にレビューされる必要があります。

Story 上の作業は、それぞれの トピックブランチで作業され、Epic のリリースブランチにマージされていきます。

**Task** 

一般の作業タスクです。Story を実現するために必要な作業を全て Task として定義します。

Task はそれぞれが１日の内部で完了する規模にまとめるのが良いでしょう。
一般的なフォークからの Pull Request は全てのこの Task に紐付ける必要があります。

## 運用準備 - How

- epic, feature , story の GitHub ラベルを作成する

### 運用1. プロジェクトの開始

Epic 単位で GitHub のプロジェクトを作成します。Project の名前は Epic のタイトルと一致させます。

GitHub プロジェクトには FEATURE / TODO / IN PROGRESS / IN REVIEW / DONE / FUTURE の ５列を作成してください。

- FEATURE : Epic で利用する、`feature` 系の Issue を配置する
- TODO : `feature` を実現するために、実装すべき `story` の一覧
- IN PROGRESS : 着手中の `story` の一覧
- IN REVIEW : REVIEW中の `story` の一覧
- DONE : 完了した `story` の一覧
- FUTURE : 完了した `story` の一覧

次に Epic リリースまでのマイルストーンを組み立てます。
マイルストーンのタイトルは、 `#{n} {epic タイトル}` とします。
全ての `story` に担当者を付与した上でマイルストーンに振り分けて、作業順序とスプリントの重み付けを調整してください。

### 運用2. プロジェクトの進行

作業を開始した`story`はGitHub Project 内の TODO 列から IN PROGRESS 列に移動します。

日々の作業進行で、 `story` の担当者はスプリント内で `story` を完了できるよう作業の計画を進めます。
`story` の担当者は、 `story` の実装責任を負うわけではないので、他のメンバーにタスクを振り分ける場合は、
`task` を作成して作業の振り分けを行ってください。

`task` に紐づく Pull Request のマージは、`story` 担当者の裁量で実施して問題ありません。

作業の進行とともに `story`の実装が完了した場合、 `story`をリリースブランチにマージして `story` を Close します。
Close された story は、IN REVIEW 列に移動させてください。

IN REVIEW 列に移動された `story` は、 `feature` 担当者の手によるレビューを経て、DONE 列へと移動されます。問題が見つかった場合は、バグ表を立てて、 `story` を ReOpen します。

**バグが軽微な場合**

`story` 上の軽微なバグは、 `story` に紐づく `task` として起票し、 `story` を ReOpen します。 
`story` の担当者は最優先事項として、その `story` の問題修正にあたります。

**バグが大規模な場合**

`story` 上のバグが、スプリント計画を圧迫する程度に深刻な場合は、別途 `story` を立て、修正作業を新しい `story` として起票し、
個別のバグを新しく作成した `story` の `task` として起票します。

### 運用3. プロジェクトの評価 日次

日次のプロジェクト評価は、スプリントの消化具合で評価されます。
`story` のレビュー戻しにも対応するため、概ね日次で プロジェクト内スプリントの 25% 程度を消化していく必要があるでしょう。

日次レビューには Epic 内のアクティブな `story` の担当者と、それに紐づく `feature` の担当者全員が参加する必要があります。

### 運用4. プロジェクトの評価 週次

週次のプロジェクト評価は、Epic ボードの見直しを行います。
スプリント内での作業漏れ等を新しいスプリントに振り分けるなどの作業を行い、スプリント自体の Close を確実に実践してください。

## 運用の観点 - what for

### プロジェクト運用フローの規格化

プロジェクトに大なり小なり様々な規模がある中で、共通のフローを用いることで、プロジェクト管理の手法を共通化することが目的です。
全てのプロジェクトにとって100点の手法は存在しないものの、プロジェクト個別に管理手法を検討するのは非常に億劫な作業となるため、
プロジェクト最適化にこだわることなく、業務全体的な最適化を検討してください。

### プロジェクト管理作業の省力化

規格化の中で一番最重視している点が、運用作業の省力化です。
このフローでは、運用作業の中心を Epic ボードの構築に集約しており、
プロジェクト運用計画の鍵はこの Epic ボード構築が全てを握ると言っても過言ではありません。 

後述する`feature` の境界設計や `story` の粒度等がプロジェクト進行の成功を握る鍵となりますが、
この作業には非常に高度な思考と判断を必要とするため、Epic ボードの設計は、チーム全体で相談しながら短期間で実施するようにしましょう。

### メンバーごとの作業内容を明確に

プロジェクトのワークフローは個々のメンバーが今何をすべきかを明確にします。

`story` 担当者は、複数の `story` の担当を持っていたとしても、IN PROGRESS（及び IN REVIEW） の `story` の解決に専念できます。

`feature` 担当者は IN REVIEW の `story` のレビューに専念しながら、 
`feature` Issue の仕様整理や新しい Epic ボード改修に向けての作業に専念することが出来ます。

### プロダクトの品質レビューの階層化

プロジェクト運用フローの中で、プロジェクトの品質レビューのフローにも一定の指針を与えています。
`story` 未満のレビューは `story` 担当者が、完成した `story` の受け入れは `feature` 担当者が、
とすることで、誰が何をレビューすべきかのフローが明確化されます。

一般的に `feature` の担当者には仕様・要件を管理するディレクターやデザイナーが、 `story` の担当者には開発チームのリーダが任命されます。

## Epic ボードの構築

Epic ボードの構築作業は以下のようなステップで実施されます。

1. Epic 内の feature の洗い出し
2. feature を story に分解
3. story を sprint に割り振り

Epic ボードで扱う Issue は `story` と `feature` のみで、ここにエンジニアやデザインの言葉は一切出てきません。
デザイナーやエンジニアといった職域関係なく、ここでの作業を考えられるよう心がけておきましょう。

### feature の洗い出し

feature は Epic の中で、実装すべき機能です。小規模なプロジェクトでは feature の数は一つだけ、となるケースも多いでしょう。

feature は 仕様を管理する Issue となるため、大規模な Epic を 1つの feature で管理しようとした場合、仕様の整理が大変になります。
また、大規模な Epic では `story` の数も大きくなるため、
複数の feature を設けることで、ローンチまでの作業達成状況がよりわかりやすくなるというメリットもあります。

逆に細かすぎる feature の分割は 仕様の分散を招くため、こちらも注意が必要です。

### story の分解

一つの feature は、およそ 1から 4 程度の `story` に分解されます。
`story` はスプリントと紐づくため、1スプリント内で消化できる単位まで分解する必要があります。

大きすぎる `story` はスプリント内での消化不良をもたらし開発チーム内での閉じた作業になりがちです。
`story` を close 出来ないということは、 `feature` 担当者のレビューサイクルを低下させるという点にも注意してください。

また `story` の規模を小さくしすぎると、ブランチの乱立とレビューフローの煩雑化を招きます。
リリース概念を主軸に、システムとしての一つの価値まとまりをベースに適切な `story` サイズを検討できるように注意しましょう。

### story の sprint 割り振り

story の sprint 割り振りには、実装作業側の知見が必要と思われがちですが、第一にはリリースまでの計画をベースに割り振って構いません。
ローンチまでの計画を軸に割り振ったスプリントをベースに、作業担当者からのレビューを受けて微調整を進めれば、実際の工数との乖離は防げます。

## 運用のポイント

### 「いつまでに」「何を」リリースするのかを意識する

ワークフローにおける一番のポイントは、「スプリント内で」「リリースに紐づく」作業を完了させる、というところにあります。

残念なことに 「作業をする」ことがリリースにつながるわけではなく、また 頑張って Issue の数減らしても進捗の可視化は達成できません。

